!function(a){var b={createLine:function(c,d,e,f,g){if(c>e){var h=c;c=e,e=h,h=d,d=f,f=h}var i=Math.sqrt((c-e)*(c-e)+(d-f)*(d-f)),j=document.createElement("canvas");j.style.position="absolute",j.height=parseInt(g.styles.height)||"2",j.width=i,b.canvasLine(j,i,g);var k=Math.atan((f-d)/(e-c));j.style.top=d+.5*i*Math.sin(k)+"px",j.style.left=c-.5*i*(1-Math.cos(k))+"px";var l="rotate("+k+"rad)";j.style.transform=j.style.msTransform=j.style.MozTransform=j.style.WebkitTransform=j.style.OTransform=l;for(var m in g.attr)m&&"color"!==m&&a(j).attr(m,g.attr[m]);var n=["color","width","height"];for(var m in g.styles)m&&-1===n.indexOf(m)&&(j.style[m]=g.styles[m]);return j},canvasLine:function(a,b,c){var d=a.getContext("2d");d.beginPath(),d.moveTo(0,1),d.lineTo(b,1),d.closePath(),d.strokeStyle=c.styles.color,d.lineWidth=c.styles.height||"2",d.stroke()}};a.fn.smoothLine=function(c,d,e,f,g,h){a(this).each(function(){a.isFunction(g)?(callback=g,g=null):callback=h,g=a.extend({},a.fn.smoothLine.defaults,g),a(this).append(b.createLine(c,d,e,f,g)).promise().done(function(){a.isFunction(callback)&&callback.call()})})},a.fn.smoothLine.defaults={style:{zIndex:1e4,color:"#000000"},attr:{id:"jquery-smooth-line",className:"line"}}}(jQuery);